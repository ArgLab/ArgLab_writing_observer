<!DOCTYPE HTML>
<html>
  <head>
    <!-- We use d3.js as our basic JavaScript framework -->
    <script src="https://d3js.org/d3.v5.min.js"></script>

    <!-- Our stylesheet / CSS framework is Bulma, for now--> 
    <link rel="stylesheet" href="https://bulma.io/css/bulma-docs.min.css?v=202002231419"/>
    <link rel="stylesheet" href="ux.css"/>
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

    <!-- Templates -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.1.0/mustache.min.js"></script>

    <!-- We use showdown to render the problems and hints -->
    <script src="https://rawgit.com/showdownjs/showdown/1.9.1/dist/showdown.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title> Writing Analysis </title>
    <!--link rel="stylesheet" href="da.css"/-->
  </head>
  <body>
    <!--
	This is the template of one student tile.

	We include all types of tiles within this template, and toggle
	the is-hidden flag to select which one is shown.
      -->
    <script id="template-tile" type="x-tmpl">
      <div class="tile is-parent">
	<article class="tile is-child box">
	  <nav class="level">
	    <div class="level-left">
	      <a target="_blank" rel="noopener noreferrer" href="https://voice.google.com/u/0/calls?a=nc,{{phone}}">
		<span class="icon"> <i class="fas fa-phone-square"></i> </span>
	      </a>
	    </div>
	    <div class="level-item"><p class="title">{{name}}</p></div>
	    <div class="level-right">
	      <a target="_blank" rel="noopener noreferrer" href="{{google_doc}}">
		<span class="icon"> <i class="fas fa-expand"></i></span>
	      </a>
	    </div>
	  </nav>
	  <div class="typing wa-tilebody">
	    <p><span class="typing-text"></span>‚ùô</p>
	  </div>
	  <div class="deane is-hidden wa-tilebody">
	  </div>
	  <div class="summary is-hidden wa-tilebody">
	  </div>
	  <div class="outline is-hidden wa-tilebody">
	    To do: This will show an outline and how much is in each sectino
	  </div>
	  <div class="timeline is-hidden wa-tilebody">
	    To do: This will show a timeline of when students started, worked, and had major revisions
	  </div>
	  <!-- Contact info -->
	  <div class="contact is-hidden wa-tilebody">
	    <p>
	      <a href="mailto:{{email}}">
		<span class="icon"> <i class="fas fa-envelope"></i> </span> {{email}}
	      </a>
	      <img src="media/hubspot/{{avatar}}" height="40%" width="40%" align="right"/><br> 
	      <a target="_blank" rel="noopener noreferrer" href="https://voice.google.com/u/0/calls?a=nc,{{phone}}">
		<span class="icon"> <i class="fas fa-phone-square"></i> </span> {{phone}}
	      </a>
	    </p>
	    {{address}} <br>
	    <span class="icon">
	      <i class="fas fa-facebook-square"></i>
	    </span>
	  </div>
	</article>
      </div>
    </script>

    <div class="loading">
        <section class="section">
	  <div class="container">
	    <h1 class="title">
              .... Loading dashboard ....
	    </h1>
	    <p class="subtitle">
              Our dashboard is loading. If you're seeing this for more
              then a moment, our server might be down. Please call me
              to let me know, and I'll bring it back up
              (281-826-2564).
	    </p>
	    <p>
	      (Really! We really care about this tool and having it
	      work well for you. If something's going wrong, we want
	      to know ASAP)
	    </p>
	  </div>
	</section>
    </div>

    <div class="auth-form is-hidden">
      You're not logged in. <a href="auth/login/google">Log-in with Google!</a>
    </div>

    <div class="main is-hidden">
    <!-- Top navigation bar -->
    <nav class="navbar" role="navigation" aria-label="main navigation">
      <div class="navbar-brand">
	<a class="navbar-item" href="https://ets.org">
	  <img src="media/ETS_Logo.svg" width="30" height="22">
	</a>
	
	<a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
	  <span aria-hidden="true"></span>
	  <span aria-hidden="true"></span>
	  <span aria-hidden="true"></span>
	</a>
      </div>
      
      <div class="navbar-menu">
	<div class="navbar-end">
	  <div class="navbar-item">
            <div class="buttons">
              <a class="button is-light">
		Log out
              </a>
            </div>
	  </div>
	</div>
      </div>
    </nav>

    <!-- Main page body -->
    <section class="section">
      <div class="container">
	<!-- Navigation -- select which tile -->
	<div class="tabs">
	  <ul>
	    <li class="is-active tilenav tilenav-typing">
	      <a><span class="icon"><i class="fas fa-edit"></i></span>Current Typing</a>
	    </li>
	    <li class="tilenav tilenav-deane">
	      <a><span class="icon"><i class="fas fa-chart-line"></i></span>Deane Graphs</a>
	    </li>
	    <li class="tilenav tilenav-summary">
	      <a><span class="icon"><i class="fas fa-chart-bar"></i></span>Summary Stats</a>
	    </li>
	    <li class="tilenav tilenav-outline">
	      <a><span class="icon"><i class="fas fa-list"></i></span>Outlines</a>
	    </li>
	    <li class="tilenav tilenav-timeline">
	      <a><span class="icon"><i class="fas fa-history"></i></span>Timeline</a>
	    </li>
	    <li class="tilenav tilenav-contact">
	      <a><span class="icon"><i class="fas fa-address-card"></i></span>Contact</a>
	    </li>
	  </ul>
	</div>
	<!-- Student tiles. This is populated programatically -->
	<div class="wa-tile-sheet">
	  ... Loading ...
	</div>
      </div>
    </section>
    </div>
    <footer class="footer">
      <div class="content has-text-centered">
	<p>
	  <strong>Writing Dashboard</strong>
	  by <a href="http://mitros.org/p">Piotr Mitros</a>. Copyright
	  (c) 2020. Educational Testing
	  Service. The <a href="https://github.com/ETS-Next-Gen/writing_analysis">source
	  code</a> will be released as free / open source software,
	  most likely
	  under <a href="https://www.gnu.org/licenses/agpl-3.0.en.html">the
	  AGPLv3 license</a>. Some thoughts on privacy.
	</p>
      </div>
    </footer>
  </body>
  <script src="./dashboard.js" type="module"> </script>
</html>
